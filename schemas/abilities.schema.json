{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Ability Schema",
  "type": "object",

  "properties": {
    "$schema": {
      "type": "string",
      "description": "VS Code schema reference (ignored by game logic)"
    },

    "ability": {
      "type": "object",

      "properties": {
        "id": {
          "type": "string",
          "description": "Unique ability identifier"
        },

        "name": {
          "type": "string",
          "description": "Display name of the ability"
        },

        "type": {
          "type": "string",
          "enum": ["attack", "support", "passive"],
          "description": "Determines how the ability behaves in battle"
        },

        "element": {
          "type": "string",
          "description": "Elemental type (core, echo, pulse, root, void, etc.)"
        },

        "power": {
          "type": "number",
          "description": "Base power of the ability"
        },

        "cost": {
          "type": "number",
          "description": "Energy cost to use the ability"
        },

        "cooldown": {
          "type": "number",
          "description": "Turns required before the ability can be used again"
        },

        "accuracy": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Hit chance (0.0 - 1.0)"
        },

        "target": {
          "type": "string",
          "enum": ["single", "multi", "self", "random"],
          "description": "Targeting rules for the ability"
        },

        "effects": {
          "type": "object",

          "properties": {
            "stat_modifiers": {
              "type": "object",
              "description": "Stat changes applied by the ability",
              "additionalProperties": {
                "type": "number"
              }
            },

            "status_inflict": {
              "type": "string",
              "description": "Status effect applied by the ability"
            },

            "status_chance": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Chance to apply the status effect"
            },

            "multi_hit": {
              "type": "number",
              "minimum": 1,
              "description": "Number of hits (for multi-hit abilities)"
            },

            "heal_percent": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Percent of HP restored"
            }
          },

          "additionalProperties": false
        },

        "description": {
          "type": "string",
          "description": "Readable description for UI"
        }
      },

      "required": [
        "id",
        "name",
        "type",
        "power",
        "cost",
        "description"
      ],

      "additionalProperties": false
    }
  },

  "required": ["ability"],
  "additionalProperties": false
}
